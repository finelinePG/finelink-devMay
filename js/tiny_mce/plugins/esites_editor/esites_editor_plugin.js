!function(){"use strict";var i,t,e,n="esites_editor",o=tinymce.each,d=["wysiwygtext","wysiwygpage_content","wysiwygblock_content","wysiwygtemplate_text","wysiwygdescription_editor","wysiwygshort_description_editor","wysiwyggroup_4description_editor"],r={};o(d,function(t){window[t]&&(i=window[t],i.name=t)}),i&&(o(i.config.plugins,function(i){i.name===n&&(r.config=i.config,e=r.config.sections,-1!==e.indexOf("|")&&(e=e.split("|").join(",")),-1!==e.indexOf(",")&&(e=e.split(",")),"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]))}),tinymce.inArray(e,i.name)<0||(tinymce.PluginManager.requireLangPack(n),tinymce.create("tinymce.plugins.EsitesEditorPlugin",{defaults:{emmet:!1,theme:"default",codeFolding:!1},settings:{},init:function(i,e){t=this,t.editor=i,t.url=e,t.settings=tinymce.extend(t.defaults,r.config),t.editor.addCommand("mceEsitesEditor",t.showSourceEditor),t.editor.addButton(n,{image:t.url+"/img/icon-esites-editor.png",title:n+".editor_button",cmd:"mceEsitesEditor"})},showSourceEditor:function(){t.editor.windowManager.open({width:t.editor.getParam("code_dialog_width",900),height:t.editor.getParam("code_dialog_height",600),inline:!0,maximizable:!0,file:t.url+"/esites_editor.html"},{plugin_url:t.url})}}),tinymce.PluginManager.add(n,tinymce.plugins.EsitesEditorPlugin)))}();